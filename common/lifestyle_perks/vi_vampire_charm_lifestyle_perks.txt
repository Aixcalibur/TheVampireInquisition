vi_charm_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 2 0 }
	icon = node_intrigue
	
	auto_selection_weight = {
		value = 11
		if = {
			limit = {
				OR = {
					has_education_diplomacy_trigger = yes
					has_education_intrigue_trigger = yes
				}
				
			}
			add = 1989
		}
		if = {
			limit = {
				has_focus = vi_vampire_charm_focus
			}
			multiply = 5
		}
		if = {
			limit = {
				can_start_new_lifestyle_tree_trigger = no
			}
			multiply = 0
		}
	}

	character_modifier = {
		stress_loss_mult = -0.1
		attraction_opinion = 5
	}
	
	effect = {
		custom_description_no_bullet = {
			text = vi_charm_perk_effect
		}
	}
}

vi_animal_speak_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 0 1.25 }
	icon = node_intrigue
	
	parent = vi_charm_perk

	character_modifier = {
		enemy_terrain_advantage = -0.15
		learn_language_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
		enemy_scheme_secrecy_add = -15
	}
	
	# name = {
	# 	first_valid = {
	# 		triggered_desc = {
	# 			trigger = { is_landless_adventurer = yes }
	# 			desc = ducal_conquest_perk_adventurer_name
	# 		}
	# 		desc = ducal_conquest_perk_name
	# 	}
	# }


	
	# government_character_modifier = {
	# 	flag = government_is_landless_adventurer
	# 	owned_contract_scheme_success_chance_add = 15
	# 	independent_ruler_opinion = 20
	# }
	# government_character_modifier = {
	# 	flag = government_is_landless_adventurer
	# 	invert_check = yes
	# 	title_creation_cost_mult = -0.2
	# }

	# effect = {
	# 	custom_description_no_bullet = {
	# 		text = vi_animal_speak_perk_effect
	# 	}
	# }
	# effect = {
	# 	if = {
	# 		limit = {
	# 			NOT = { government_has_flag = government_is_landless_adventurer }
	# 		}
	# 		custom_description_no_bullet = {
	# 			text = ducal_conquest_perk_effect
	# 		}
	# 	}
	# 	if = {
	# 		limit = {
	# 			has_ep3_dlc_trigger = yes
	# 			government_allows = administrative
	# 		}
	# 		custom_description_no_bullet = {
	# 			text = admin_ducal_conquest_perk_effect
	# 		}
	# 	}
	# }
}


vi_animal_command_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 0 2.5 }
	icon = node_intrigue
	
	parent = vi_animal_speak_perk

	government_character_modifier = {
		flag = government_is_landless_adventurer
		invert_check = yes
		raid_speed = 0.25
	}
	
	government_character_modifier = {
		flag = government_is_landless_adventurer
		provisions_loss_mult = -0.2
	}

	character_modifier = {
		advantage = 3
		supply_capacity_mult = 0.5
		character_travel_safety_mult = 0.25
	}
	
	effect = {
		custom_description_no_bullet = {
			text = vi_animal_command_perk_effect
		}
	}
}


vi_soothe_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 2 1.25 }
	icon = node_intrigue
	
	parent = vi_charm_perk

	character_modifier = {
		owned_scheme_secrecy_add = 5
	}
	
	effect = {
		custom_description_no_bullet = {
			text = vi_soothe_perk_effect
		}
	}
}


vi_galvanize_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 2 2.5 }
	icon = node_intrigue
	
	parent = vi_soothe_perk

	character_modifier = {
		personal_scheme_phase_duration_add = medium_scheme_phase_duration_bonus_value
	}
	
	effect = {
		custom_description_no_bullet = {
			text = vi_galvanize_perk_effect
		}
	}
}


vi_persuasion_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 4 1.25 }
	icon = node_intrigue
	
	parent = vi_charm_perk

	character_modifier = {
		owned_personal_scheme_success_chance_add = 10
	}

	effect = {
		custom_description_no_bullet = {
			text = vi_persuasion_perk_effect
		}
	}
}


vi_enthrall_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 4 2.5 }
	icon = node_intrigue
	
	parent = vi_persuasion_perk
	
	character_modifier = {
		owned_hostile_scheme_success_chance_add = 10
	}

	effect = {
		custom_description_no_bullet = {
			text = vi_enthrall_perk_effect
		}
	}
}


vi_presence_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 2 3.75 }
	icon = node_intrigue
	
	parent = vi_animal_command_perk
	parent = vi_galvanize_perk
	parent = vi_enthrall_perk

	character_modifier = {
		stress_loss_mult = -0.1
		general_opinion = 10
	}
	
	effect = {
		custom_description_no_bullet = {
			text = vi_presence_perk_effect
		}
	}
}


vi_heartstealer_perk = {
	lifestyle = vi_vampire_lifestyle
	tree = vi_charm_tree
	position = { 2 5 }
	icon = trait_vi_heartstealer
	name = vi_heartstealer_perk_name
	
	parent = vi_presence_perk
	
	trait = vi_heartstealer
	effect = {
		add_trait_force_tooltip = vi_heartstealer
	}
}